/* Minimal, neutral, professional palette (light theme) */
:root{
  --bg:#f7f8fa;
  --panel:#ffffff;
  --panel-2:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --primary:#2563eb;      /* blue-600 */
  --primary-2:#1d4ed8;    /* blue-700 */
  --accent:#059669;       /* green-600 */
  --danger:#dc2626;       /* red-600 */
  --card:#ffffff;
  --border:#e5e7eb;
  --table-odd:#ffffff;
  --table-even:#fbfdff;
  --table-hover:#f3f4f6;
  --chart-bg:#ffffff;
}

/* Dark theme */
:root[data-theme="dark"]{
  --bg:#0f1318;
  --panel:#161b22;
  --panel-2:#1b212b;
  --text:#f1f5f9;
  --muted:#c7d1db;
  --primary:#3d73ff;
  --primary-2:#2f5fe0;
  --accent:#2ec27e;
  --danger:#f2756b;
  --card:#161b22;
  --border:#2d3642;
  --table-odd:#171c24;
  --table-even:#151a21;
  --table-hover:#1f2630;
  --chart-bg:#161b22;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;
  background: var(--bg);
  color:var(--text);
}
.layout{ display:grid; grid-template-columns: 260px 1fr; min-height:100vh; }

/* Sidebar */
.sidebar{
  background:var(--panel);
  border-right:1px solid var(--border);
  padding:18px 14px; display:flex; flex-direction:column; gap:14px;
}
.brand{ font-weight:800; font-size:20px; letter-spacing:.2px; padding:6px 10px; }
.brand span{ color:var(--primary); }
.menu{ display:flex; flex-direction:column; gap:6px; }
.item{ padding:10px 12px; border-radius:8px; cursor:pointer; color:var(--text); text-decoration:none; display:flex; align-items:center; gap:10px; border:1px solid transparent; }
.item:hover{ background:var(--panel-2); }
.item.active{ background:var(--panel-2); box-shadow:none; border-color:var(--border); }
.spacer{ flex:1 }
.foot{ color:var(--muted); font-size:12px; padding:8px 12px; border-top:1px solid var(--border); }

/* Content */
.content{ padding:24px 28px; max-width:1180px; margin:0 auto; }
.topbar{ display:flex; align-items:center; justify-content:space-between; gap:18px; margin-bottom:18px; }
.periodo{ font-weight:700; font-size:18px; color:var(--text); }
.actions{ display:flex; gap:10px; }
.btn{ border:1px solid var(--border); background:var(--panel); color:var(--text); padding:8px 12px; border-radius:8px; cursor:pointer; transition: background .15s ease, border-color .15s ease; display:inline-flex; align-items:center; gap:8px; }
.btn.primary{ background:var(--primary); border-color:var(--primary); color:#fff; }
.btn.primary:hover{ background:var(--primary-2); border-color:var(--primary-2); }
.btn.ghost{ background:var(--panel); }
.btn.ghost:hover{ background:var(--table-hover); }
.hidden{ display:none; }

/* Theme toggle button */
#themeToggle {
  padding: 8px 12px;
  border-radius: 8px;
}

/* Si est√° fuera de .actions (flotante en esquina superior derecha) */
#themeToggle.floating-toggle:not(.actions #themeToggle){
  position: fixed;
  top: 10px;
  right: 14px;
  z-index: 1000;
  padding: 8px;
  border-radius: 999px;
  line-height: 1;
}
#themeToggle.floating-toggle:not(.actions #themeToggle) span{ display:none; }
#themeToggle.floating-toggle:not(.actions #themeToggle) i{ font-size: 14px; }

/* Dentro de .actions, mantener estilo normal */
.actions #themeToggle span { display: inline; }

/* Grid KPIs */
.grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; margin-bottom:24px; }
.card{ background:var(--panel); border:1px solid var(--border); border-radius:8px; padding:18px; box-shadow: 0 1px 2px rgba(0,0,0,.04); margin-bottom:22px; }
.grid .card{ margin-bottom:0; }
.metric .kpi-title{ color:var(--muted); font-weight:600; }
.metric .kpi-value{ font-size:28px; font-weight:800; letter-spacing:.2px; margin-top:6px; color:var(--text); }
.metric .kpi-sub{ color:var(--muted); font-size:12px; margin-top:6px; }

/* Vendor stats blocks */
.stats{ display:flex; flex-direction:column; gap:10px; }
.stats-row{ display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border:1px solid var(--border); border-radius:6px; background:var(--panel-2); }
.stats-row.total{ font-weight:700; }
.stats-row.meta{ gap:12px; }
.stats-row .label{ color:var(--muted); }
.stats-row .value{ color:var(--text); }
.badge{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; font-size:12px; border:1px solid var(--border); }
.badge.ok{ background:#1f2c22; color:#9be7c7; border-color:#2b3f31; }
.divider{ height:1px; background:var(--border); margin:4px 0; }

.hbars{ display:flex; flex-direction:column; gap:10px; }
.hbar{ display:grid; grid-template-columns: 40px 1fr 70px; align-items:center; gap:10px; }
.hlabel{ color:var(--muted); }
.htrack{ height:12px; background:var(--panel-2); border:1px solid var(--border); border-radius:999px; overflow:hidden; }
.hfill{ height:100%; background:linear-gradient(90deg, var(--primary), var(--primary-2)); }
.hvalue{ color:var(--muted); text-align:right; font-variant-numeric: tabular-nums; }

/* Table */
.table .card-title{ font-weight:700; margin-bottom:16px; color:var(--text); }
.table-wrap{ overflow:auto; border-radius:12px; border:1px solid var(--border); }
table{ width:100%; border-collapse:separate; border-spacing:0; min-width:680px; }
thead th{ text-align:left; font-size:13px; color:var(--muted); background:var(--panel-2); position:sticky; top:0; padding:10px 12px; }
tbody td{ padding:16px; border-top:1px solid var(--border); font-size:14px; color:var(--text); vertical-align:middle; }
tbody tr:nth-child(odd){ background:var(--table-odd); }
tbody tr:nth-child(even){ background:var(--table-even); }
tbody tr:hover{ background:var(--table-hover); }
td.num{ text-align:right; }
.meta-ok{ color:var(--accent); font-weight:700; }
.meta-bad{ color:var(--danger); font-weight:700; }

/* Switch & controls */
.switch{ position:relative; width:44px; height:24px; background:var(--table-hover); border:1px solid var(--border); border-radius:999px; cursor:pointer; display:inline-flex; align-items:center; padding:2px; }
.switch i{ display:block; width:18px; height:18px; background:#fff; border-radius:50%; transition: transform .2s ease; }
.switch.active{ background:#e0e7ff; border-color:#c7d2fe; }
.switch.active i{ transform: translateX(20px); }
.select{ background:var(--panel); border:1px solid var(--border); color:var(--text); border-radius:8px; padding:8px 10px; min-width:260px; height:38px; }
.tag{ display:inline-block; background:var(--table-hover); border:1px solid var(--border); padding:4px 8px; border-radius:999px; color:var(--muted); font-size:12px; margin:2px; }

/* Users list (Vendedores) */
.users .users-controls, #section-vendedores .users-controls{ display:flex; gap:10px; align-items:center; margin-bottom:12px; }
.input{ background:var(--panel); border:1px solid var(--border); color:var(--text); border-radius:8px; padding:10px 12px; min-width:300px; height:38px; }
.user-list{ display:flex; flex-direction:column; gap:12px; }
.user-item{ display:flex; align-items:center; justify-content:space-between; gap:14px; padding:12px 14px; border:1px solid var(--border); border-radius:8px; background:var(--panel); }
.user-left{ display:flex; align-items:center; gap:12px; }
.avatar{ width:36px; height:36px; border-radius:6px; background:var(--table-hover); display:grid; place-items:center; font-weight:700; color:var(--primary); border:1px solid var(--border); }
.name{ font-weight:600; }
.seg{ display:inline-flex; background:var(--table-hover); border:1px solid var(--border); border-radius:999px; padding:4px; }
.seg button{ background:transparent; color:var(--text); border:0; padding:8px 12px; border-radius:999px; cursor:pointer; }
.seg button.active{ background:var(--panel); color:var(--text); box-shadow: inset 0 0 0 1px var(--border); }
.status{ color:#9aa3b2; font-size:12px; margin-left:8px; }

/* Chart */
.chart-card .card-title{ font-weight:700; margin-bottom:12px; color:var(--text); }
.chart-wrap{ height:320px; width:100%; position:relative; background:var(--chart-bg); border:1px solid var(--border); border-radius:8px; }

/* Periodos */
.periods-controls{ display:flex; gap:10px; align-items:center; margin-bottom:12px; flex-wrap:wrap; }
.months-grid{ display:grid; grid-template-columns: repeat(4, minmax(220px,1fr)); gap:20px; }
.month{
  padding:12px; border:1px solid var(--border); border-radius:8px; background:var(--panel-2);
  cursor:pointer; display:flex; align-items:center; justify-content:space-between; gap:8px;
  color:var(--text); font-weight:500;
}
.month span{ color:#d2dae4; font-size:12px; padding:2px 10px; border-radius:999px; background:#2a3038; border:1px solid #3a4450; }
.month.active{ border-color:#6e90ff; background:#243049; }
.month.active span{ background:#33456b; color:#e6eeff; border-color:#5c7bdd; }
.weeks-grid{ display:grid; grid-template-columns: repeat(2, minmax(260px,1fr)); gap:10px; }
.week-item{ display:flex; gap:8px; align-items:center; }
.week-item input{ background:var(--panel-2); border:1px solid var(--border); color:var(--text); border-radius:10px; padding:8px 10px; width:140px; }
.week-item .label{ width:30px; color:var(--muted); }

@media (max-width: 1400px){ .months-grid{ display:grid; grid-template-columns: repeat(4, minmax(220px,1fr)); gap:20px; } }
@media (max-width: 1100px){ .months-grid{ display:grid; grid-template-columns: repeat(4, minmax(220px,1fr)); gap:20px; } }

/* Actions under table */
.table-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:22px; padding-top:14px; border-top:1px solid var(--border); }

/* Selector de mes en el topbar */
.periodo-header {
  display: flex;
  align-items: center;
  gap: 16px;
  flex-wrap: wrap;
}

.month-selector {
  min-width: 200px;
  background: var(--panel-2);
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 8px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.2s;
}

.month-selector:hover {
  border-color: var(--primary);
  background: var(--panel);
}

.month-selector:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* Fila de totales */
#tablaVendedores tr.total-row {
  border-top: 2px solid var(--border);
  font-weight: 600;
}

/* Responsive */
@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr; }
  .layout{ grid-template-columns: 200px 1fr; }
  .brand{ font-size:16px; }
  .item{ font-size:14px; }
}

#usuariosTable{ table-layout:fixed; }
#usuariosTable thead th:nth-child(1){ width:32%; }
#usuariosTable thead th:nth-child(2){ width:26%; }
#usuariosTable thead th:nth-child(3){ width:42%; }
#usuariosTable td:last-child .select{ width:100%; max-width:420px; }
